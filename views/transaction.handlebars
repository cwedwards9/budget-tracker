<p>#<span id="userid">{{userTransactions.user_id}}</span></p>
<p>{{userTransactions.first_name}} {{userTransactions.last_name}}</p>

{{#each userTransactions.transactions}}
    <ul>
        <li>{{category}}</li>
        <li>{{source}}</li>
        <li>{{amount}}</li>
    </ul>
{{/each}}

<form id="createTransaction">
    <label for="tCategory">Choose a category:</label>
    <select id="tCategory">
        <option value="">--Please choose an option--</option>
        <option value="Entertainment">Entertainment</option>
        <option value="Food">Food</option>
        <option value="Gas">Gas</option>
        <option value="Healthcare">Healthcare</option>
    </select>

    <label for="tAmount">Amount</label>
    <input id="tAmount" type="number" step="0.01">

    <label for="tSource">Source</label>
    <input id="tSource" type="text">

    <label for="tDate">Date of Transaction</label>
    <input id="tDate" type="datetime-local">

    <button>Add</button>
</form>

<script>

// on submit take the inputted data and send a post request to the /transaction route
    $("#createTransaction").on("submit", e => {
        e.preventDefault();

        let newTransaction = {
            category: $("#tCategory").val().trim(),
            amount: $("#tAmount").val().trim(),
            source: $("#tSource").val().trim(),
            date: $("#tDate").val().trim(),
            UserId: $("#userid").html()
        };

        console.log(newTransaction);
        $.ajax("/transaction", {
            type: "POST",
            data: newTransaction
        }).then(() => {
            location.reload();
        });
    });
</script>